# Copilot instructions (go)

<!-- generated by ai-instructions-pilot: sets: go -->

## Code Style

- Prefer clear, idiomatic Go over clever code.
- Keep functions small and focused; avoid long parameter lists.
- Use package-level comments to describe purpose and responsibilities.
- Avoid unnecessary abstraction; simplicity beats generality in Go.

## Error Handling

- Return errors explicitly; no exceptions.
- Use `errors.Is` and `errors.As` for wrapping and inspection.
- Avoid ignoring errors with `_`; always handle them appropriately.

## Concurrency

- Use goroutines and channels for concurrency; prefer structured concurrency patterns.
- Avoid shared mutable state; use synchronization primitives carefully.
- Always clean up goroutines (e.g., context cancellation).

## Testing

- Write table-driven tests.
- Use `t.Helper()` in helper functions.
- Benchmark performance-critical code with `testing.B`.

## Documentation & Comments

- Use GoDoc style comments: `// FunctionName ...` before exported symbols.
- Keep comments factual and concise.
- Document package-level behavior and assumptions.

